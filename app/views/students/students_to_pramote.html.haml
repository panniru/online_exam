.page-header
  %h4 Pramote/Demote Students
    
.row{:ng_controller => "StudentsPramoteController"}
  = form_tag pramote_students_path, :method => 'get' , :class => "form-inline", :id => "students_pramote" do
    .col-md-8.col-sm-8
      .form-group
        = label_tag :course, "Course", :class => 'col-sm-3 col-md-3 control-label'
        .col-sm-8.col-md-8
          = select_tag :course_id, options_from_collection_for_select(Course.all, :id, :name), :class => 'form-control', :ng_model => "course"
      .form-group
        = label_tag "Semester", "Sem", :class => 'col-sm-3 col-md-3 control-label'
        .col-sm-8.col-md-8
          = select_tag :semester, options_for_select((1..6).map{|i| i}) , :class => 'form-control', :ng_model => "semester"
      .form-group
        = link_to "Get Students", "#", :class => "btn btn-primary", :ng_click => "getStudents()"
  .row{:ng_show => "students"}
    .col-md-4.col-md-offset-8
      %span
        {{from_index}} - {{to_index}} of {{total_entries}}
      .btn-group.btn-group-sm
        %button.btn.btn-default{:ng_click => "previousPage()", :ng_class => "{'disabled': from_index == 1}"} 
          %span.glyphicon.glyphicon-chevron-left
        %button.btn.btn-default{:ng_click => "nextPage()", :ng_class => "{'disabled': to_index == total_entries}"} 
          %span.glyphicon.glyphicon-chevron-right
      .btn-group.btn-group-sm
        %button.btn.btn-danger.dropdown-toggle{"data-toggle" => "dropdown"}
          %span.glyphicon.glyphicon-cog
          Actions
          %span.caret
        %ul.dropdown-menu{:role => "menu"}
          %li
            = link_to "Promote", "#", :ng_click => "p_or_d('promote')"
          %li
            = link_to "Demote", "#", :ng_click => "p_or_d('demote')"
          %li
            = link_to "Promote All", "#", :ng_click => "p_or_d_all('promote')"
          %li
            = link_to "Demote All", "#", :ng_click => "p_or_d_all('demote')"
    .col-md-12
      %table.table.table-bordered
        %thead
          %th Roll Number
          %th Name
          %th Course
          %th Semester
          %th
            %lable.checkbox
              %input{:type => "checkbox", :ng_model => "allChecked", :ng_change => "checkAll()"} All
        %tbody
          %tr{:ng_repeat => "student in students"}
            %td {{student.roll_number}}
            %td {{student.name}}
            %td {{student.course}}
            %td {{student.semester}}
            %td.width-10
              %input{:type => "checkbox", :ng_model => "student.isChecked", :class=> "form-control"}
